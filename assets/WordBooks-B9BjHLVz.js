import{n as i,f as c,m as _}from"./index-BAodwoWl.js";import{$ as l}from"./toast-BeMc7CAf.js";import"./vendor-C-Ryi81X.js";import"./utils-DttJ4vl2.js";const d={name:"WordBookItem",props:{bookName:String,wordTotal:Number,learnedCount:Number,isActive:{type:Boolean,default:!1}},computed:{progress_count(){return this.learnedCount},progress_percentage(){return(this.learnedCount/this.wordTotal).toFixed(4)}}};var m=function(){var s=this,e=s._self._c;return e("li",{class:{active:s.isActive}},[e("div",{staticClass:"book-info"},[e("span",{directives:[{name:"test",rawName:"v-test",value:"book-name",expression:"'book-name'"}],staticClass:"book-name"},[s._v(s._s(s.bookName))]),e("span",{staticClass:"book-count"},[s._v(s._s(s.wordTotal)+"词")]),e("span",{staticClass:"book-progress"},[s._v(" "+s._s(s.progress_percentage)+"% 已学"+s._s(s.progress_count)+"词 ")])]),e("div",{staticClass:"book-actions"},[s.isActive?e("span",{staticClass:"current-label"},[s._v("当前")]):e("button",{directives:[{name:"test",rawName:"v-test",value:"switch-btn",expression:"'switch-btn'"}],staticClass:"switch-btn",on:{click:function(o){return s.$emit("select")}}},[s._v(" 切换 ")])])])},u=[],p=i(d,m,u,!1,null,"9a7673d8");const v=p.exports,k={name:"WordBooks",components:{WordBookItem:v},data(){return{}},computed:{..._("cache",["wordBooks","usr_bookIdx"]),...c("cache",["usr_bookIdx","usr_progress"]),...c("cache",["set_usr_bookIdx"])},methods:{selectBook(t){this.set_usr_bookIdx(t),l.success("已切换词库")}},mounted(){console.log("[this.usr_progress]",this.usr_progress)}};var b=function(){var s=this,e=s._self._c;return e("div",{staticClass:"wordbooks-page"},[s._m(0),s.wordBooks.length===0?e("div",{staticClass:"empty-tip"},[s._v("暂无词库，请导入或添加新词库")]):s._e(),e("ul",{directives:[{name:"test",rawName:"v-test",value:"book-list",expression:"'book-list'"}],staticClass:"book-list"},s._l(s.wordBooks,function(o,r){var a,n;return e("WordBookItem",{key:o.id,attrs:{"book-name":o.name,"word-total":o.words.length,"learned-count":((n=(a=s.usr_progress[o.id])==null?void 0:a.learned_no_arr)==null?void 0:n.length)||0,"is-active":r===s.usr_bookIdx},on:{select:function(g){return s.selectBook(r)}}})}),1)])},f=[function(){var t=this,s=t._self._c;return s("header",{staticClass:"wb-header"},[s("h2",{staticClass:"title"},[t._v("词库管理")])])}],h=i(k,b,f,!1,null,"57b711ee");const $=h.exports;export{$ as default};
