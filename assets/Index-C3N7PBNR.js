import{n as l,m as y,a as p,g as _,S as e,b as r,c as o}from"./index-Cgw-jWiD.js";import{W as h}from"./wa-phonetic-audio-CKN3cQRI.js";import"./vendor-C-Ryi81X.js";import"./utils-DttJ4vl2.js";const v={name:"IcpRecord",data(){return{text:"粤ICP备2025441512号-1",link:"https://beian.miit.gov.cn"}}};var m=function(){var t=this,s=t._self._c;return s("div",{staticClass:"icp-container"},[s("a",{attrs:{href:t.link,target:"_blank",rel:"noopener noreferrer"}},[t._v(t._s(t.text))])])},f=[],x=l(v,m,f,!1,null,"0d5af99f");const S=x.exports,E={name:"Index",components:{WaPhoneticAudio:h,IcpRecord:S},data(){return{dailyWord:null,buttonLoading:!1}},methods:{...p(["setStudyStatus"]),goNext(n){},handleButtonClick(n){this.buttonLoading||(this.buttonLoading=!0,Promise.resolve(n.action()).finally(()=>{setTimeout(()=>{this.buttonLoading=!1},500)}))}},computed:{bgStyle(){var n;return`background-image: url(${((n=this==null?void 0:this.dailyWord)==null?void 0:n.bg)||""});`},goOptions(){return this.study_status===e.DEFAULT?[{text:"背一背",nextStatus:e.LEARNING,type:"primary",action:()=>{this.setStudyStatus(e.LEARNING),r()}},{text:"复习",nextStatus:e.REVIEWING,type:"secondary",action:()=>{this.setStudyStatus(e.REVIEWING),o()}}]:this.study_status===e.LEARNING?[{text:"继续背一背",nextStatus:e.LEARNING,type:"primary",action:()=>{this.setStudyStatus(e.LEARNING),r()}}]:this.study_status===e.LEARNED?[{text:"再背一组",nextStatus:e.LEARNING,type:"primary",action:()=>{this.setStudyStatus(e.LEARNING),r()}},{text:"复习",nextStatus:e.REVIEWING,type:"secondary",action:()=>{this.setStudyStatus(e.REVIEWING),o()}}]:this.study_status===e.REVIEWING?[{text:"背一背",nextStatus:e.LEARNING,type:"primary",action:()=>{this.setStudyStatus(e.LEARNING),r()}},{text:"继续复习",nextStatus:e.REVIEWING,type:"secondary",action:()=>{this.setStudyStatus(e.REVIEWING),o()}}]:this.study_status===e.REVIEWED?[{text:"背一背",nextStatus:e.DEFAULT,type:"primary",action:()=>{this.setStudyStatus(e.DEFAULT),r()}},{text:"复习",nextStatus:e.REVIEWING,type:"secondary",action:()=>{this.setStudyStatus(e.REVIEWING),o()}}]:[{text:"背一背",nextStatus:e.DEFAULT,type:"primary",action:()=>{this.setStudyStatus(e.DEFAULT),r()}}]},...y(["study_status"]),buttonText(){switch(this.study_status){case e.DEFAULT:return"背一背";case e.LEARNING:return"继续背一背";case e.LEARNED:return"复习"}}},beforeMount(){this.dailyWord={en:"fickleness",zh:"n.  浮躁； 变化无常",sentence_en:"His story became a parable for the fickleness of art and life.",sentence_zh:"他的故事成为一个说明艺术与生活变化无常的寓言。",ukphone:"/'fɪklnəs/",ukspeech:"https://dict.youdao.com/dictvoice?audio=fickleness&type=1",bg:"https://image.pollinations.ai/prompt/fickleness"}},async mounted(){var n,t,s,i;try{let a=(await _()).data.data,u={en:a.word,zh:a.translations.map(c=>`${c.pos}. ${c.tran_cn}`).join(`
`),sentence_en:(t=(n=a==null?void 0:a.sentences)==null?void 0:n[0])==null?void 0:t.s_content,sentence_zh:(i=(s=a==null?void 0:a.sentences)==null?void 0:s[0])==null?void 0:i.s_cn,ukphone:`/${a==null?void 0:a.ukphone}/`,ukspeech:a==null?void 0:a.ukspeech,bg:`https://image.pollinations.ai/prompt/${a.word}`};this.dailyWord=u,console.log(this.dailyWord)}catch(d){console.error(d)}}};var N=function(){var t=this,s=t._self._c;return s("div",{staticClass:"index-page"},[s("div",{staticClass:"bg-img",style:t.bgStyle}),s("div",{staticClass:"content",staticStyle:{display:"flex","flex-direction":"column",gap:"24px"}},[s("div",{staticStyle:{"padding-top":"10vh"}},[t.dailyWord?[s("div",{directives:[{name:"test",rawName:"v-test",value:"daily-word-block",expression:"'daily-word-block'"}],staticClass:"daily-word-block"},[s("div",{staticClass:"daily-label"},[t._v("每日精选")]),s("div",{directives:[{name:"test",rawName:"v-test",value:"daily-word-en",expression:"'daily-word-en'"}],staticClass:"daily-word"},[t._v(t._s(t.dailyWord.en))]),s("div",{staticStyle:{display:"flex",gap:"4px","align-items":"center","justify-content":"center"}},[t.dailyWord.ukspeech?[s("wa-phonetic-audio",{attrs:{phonetic:t.dailyWord.ukphone,audioUrl:t.dailyWord.ukspeech}})]:t._e(),t.dailyWord.usspeech?[s("wa-phonetic-audio",{attrs:{phonetic:t.dailyWord.usphone,audioUrl:t.dailyWord.usspeech}})]:t._e()],2),s("div",{directives:[{name:"test",rawName:"v-test",value:"daily-word-zh",expression:"'daily-word-zh'"}],staticClass:"daily-zh"},[t._v(t._s(t.dailyWord.zh))])]),s("div",{directives:[{name:"test",rawName:"v-test",value:"daily-sentence-block",expression:"'daily-sentence-block'"}],staticClass:"daily-sentence-block"},[s("div",{staticClass:"sentence-label"},[t._v("每日一句")]),s("div",{directives:[{name:"test",rawName:"v-test",value:"daily-sentence-en",expression:"'daily-sentence-en'"}],staticClass:"sentence-en"},[t._v(" “"+t._s(t.dailyWord.sentence_en)+"” ")]),s("div",{directives:[{name:"test",rawName:"v-test",value:"daily-sentence-zh",expression:"'daily-sentence-zh'"}],staticClass:"sentence-zh"},[t._v(" "+t._s(t.dailyWord.sentence_zh)+" ")])])]:t._e()],2),s("div",{staticStyle:{padding:"32px 0"}},[s("IcpRecord")],1)]),s("div",{staticClass:"f_button_group"},t._l(t.goOptions,function(i){return s("button",{directives:[{name:"test",rawName:"v-test",value:`${i.type}`,expression:"`${option.type}`"}],key:i.status,staticClass:"start-btn",class:i.type||"primary",attrs:{disabled:t.buttonLoading},on:{click:function(d){return t.handleButtonClick(i)}}},[t._v(" "+t._s(i.text)+" ")])}),0)])},I=[],g=l(E,N,I,!1,null,"f4200e11");const L=g.exports;export{L as default};
