import{l as o}from"./userApi-th_DsQRd.js";import{s as n}from"./request-B_2Tscip.js";import{$ as r}from"./toast-DUp6nraB.js";import{n as i,i as m}from"./index-DkZzrvLX.js";import"./vendor-C-Ryi81X.js";import"./utils-DttJ4vl2.js";const u={name:"Login",data(){return{true:!0,isPhoneMode:!0,form:{username:"",password:""}}},methods:{async handleSubmit(){let{username:s="",password:t=""}=this.form;if(s=s.trim(),t=t.trim(),!s||!t){r.error("请输入账号密码");return}let e=await o({username:s,password:t});e.data.success?(n(e.data.data.token),r.success(e.data.msg),m()):r.error(e.data.msg)}}};var p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"auth-page"},[e("div",{staticClass:"auth-container"},[e("div",{staticClass:"auth-title"},[t._v(t._s("登录"))]),e("form",{on:{submit:function(a){return a.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"auth-input",attrs:{placeholder:"请输入账号",type:"text",autocomplete:"username"},domProps:{value:t.form.username},on:{input:function(a){a.target.composing||t.$set(t.form,"username",a.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"auth-input",attrs:{placeholder:"请输入密码",type:"password",autocomplete:"current-password"},domProps:{value:t.form.password},on:{input:function(a){a.target.composing||t.$set(t.form,"password",a.target.value)}}}),e("button",{staticClass:"auth-btn",attrs:{type:"submit"}},[t._v("登录")])]),t._m(0)])])},l=[function(){var s=this,t=s._self._c;return t("div",{staticClass:"auth-switch"},[t("span",[s._v("还没有账号？")]),t("a",{attrs:{href:"/#/register"}},[s._v("注册")])])}],c=i(u,p,l,!1,null,"e5f8800e");const w=c.exports;export{w as default};
