import{c as t}from"./audio-R9zsCmt4.js";import{n as e}from"./index-zo_B-BgR.js";const s={name:"WaPhoneticAudio",props:{phonetic:{type:String,default:""},word:{type:String,default:""},audioUrl:{type:String,default:""},disabled:{type:Boolean,default:!1}},data(){return{isPlaying:!1}},computed:{isAudioUnavailable(){return!this.word&&!this.audioUrl},realAudioUrl(){return this.audioUrl?this.audioUrl:this.word?`https://dict.youdao.com/dictvoice?type=1&audio=${encodeURIComponent(this.word)}`:""}},methods:{playAudio(){console.log("playAudio",this.disabled,this.isAudioUnavailable,this.realAudioUrl),!(this.disabled||this.isAudioUnavailable)&&(this.isPlaying=!0,t(this.realAudioUrl,()=>{this.isPlaying=!1,console.log("playAudio end",this.disabled,this.isAudioUnavailable)}))}}};var l=function(){var i=this,a=i._self._c;return a("div",{directives:[{name:"test",rawName:"v-test"}],staticClass:"wa-phonetic-audio",class:{disabled:i.isAudioUnavailable},on:{click:i.playAudio}},[a("span",{staticClass:"phonetic-text"},[i._v(i._s(i.phonetic))]),a("button",{staticClass:"audio-btn",class:{"is-playing":i.isPlaying},attrs:{disabled:i.isAudioUnavailable||i.disabled,title:i.isAudioUnavailable?"暂无发音":"播放发音"}},[a("svg",{staticStyle:{"font-size":"20px"},attrs:{viewBox:"0 0 24 24",width:"1em",height:"1em"}},[a("path",{attrs:{d:"M3 10v4h4l5 5V5L7 10H3zm13.5 2c0-1.77-1.02-3.29-2.5-4.03v8.06c1.48-.74 2.5-2.26 2.5-4.03z",fill:i.isAudioUnavailable||i.disabled?"#bbb":"#3578e5"}})]),a("span",{staticClass:"ripple"})])])},o=[],d=e(s,l,o,!1,null,"1fb5056b");const c=d.exports;export{c as W};
